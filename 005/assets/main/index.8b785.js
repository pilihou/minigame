System.register("chunks:///_virtual/LocalConfig.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GamePrefabs.ts","./CsvManager.ts"],(function(n){"use strict";var t,e,a,r,i,c,o;return{setters:[function(n){t=n.defineProperty,e=n.createClass},function(n){a=n.cclegacy,r=n._decorator,i=n.assetManager},function(n){c=n.GamePrefabs},function(n){o=n.CSVManager}],execute:function(){var s,u,l;a._RF.push({},"0308fPxRCFMBJOZo/HatnKl","LocalConfig",void 0);var f=r.ccclass;r.property,n("LocalConfig",f("LocalConfig")((l=u=function(){function n(){t(this,"_csvManager",new o),t(this,"_callback",null),t(this,"_currentLoad",0),t(this,"_cntLoad",0)}var a=n.prototype;return a.loadConfig=function(n){this._callback=n,this._loadCSV()},a._loadCSV=function(){var n=this;i.getBundle(c.getInstance().bundleName).loadDir("res/config",(function(t,e){if(!t){var a=e.filter((function(n){return".md"!==n._native}));n._cntLoad=a.length,a.length?a.forEach((function(t,e,a){n._csvManager.addTable(t.name,t.text),n._tryToCallbackOnFinished()})):n._tryToCallbackOnFinished()}}))},a.queryOne=function(n,t,e){return this._csvManager.queryOne(n,t,e)},a.queryByID=function(n,t){return this._csvManager.queryByID(n,t)},a.getTable=function(n){return this._csvManager.getTable(n)},a.getTableArr=function(n){return this._csvManager.getTableArr(n)},a.queryAll=function(n,t,e){return this._csvManager.queryAll(n,t,e)},a.queryIn=function(n,t,e){return this._csvManager.queryIn(n,t,e)},a.queryByCondition=function(n,t){return this._csvManager.queryByCondition(n,t)},a._tryToCallbackOnFinished=function(){this._callback&&(this._currentLoad++,this._currentLoad>=this._cntLoad&&this._callback())},e(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}(),t(u,"_instance",void 0),s=l))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceUtil.ts",["cc"],(function(e){"use strict";var n,o,r,t,i,a,s,l,u;return{setters:[function(e){n=e.cclegacy,o=e._decorator,r=e.resources,t=e.error,i=e.Prefab,a=e.Material,s=e.SpriteFrame,l=e.Texture2D,u=e.isValid}],execute:function(){var f;n._RF.push({},"0c9e6NWHglAtpkOj309LkDN","ResourceUtil",void 0);var c=o.ccclass;e("ResourceUtil",c("ResourceUtil")(f=function(){function e(){}return e.loadRes=function(e,n,o){void 0===o&&(o=function(){}),r.load(e,(function(e,n){if(e)return t(e.message||e),void o(e,n);o&&o(null,n)}))},e.loadEffectRes=function(e){var n=this;return new Promise((function(o,r){n.loadRes("prefab/effect/"+e,i,(function(n,t){if(n)return console.error("effect load failed",e),void(r&&r());o&&o(t)}))}))},e.loadModelRes=function(e){var n=this;return new Promise((function(o,r){n.loadRes("prefabs/"+e,i,(function(n,t){if(n)return console.error("model load failed",e),void(r&&r());o&&o(t)}))}))},e.loadMatRes=function(e){var n=this;return new Promise((function(o,r){n.loadRes(""+e,a,(function(n,t){if(n)return console.error("mat load failed",e),void(r&&r());o&&o(t)}))}))},e.loadModelResArr=function(e,n,o,t){var a=n.map((function(n){return e+"/"+n}));r.load(a,i,o,t)},e.loadSpriteFrameRes=function(e){var n=this;return new Promise((function(o,r){n.loadRes(e,s,(function(n,t){if(n)return console.error("spriteFrame load failed!",e,n),void(r&&r());var i=new l;i.image=t;var a=new s;a.texture=i,o&&o(a)}))}))},e.getMap=function(e,n){var o="map";o+=e>=100?e:e>=10?"0"+e:"00"+e,this.loadRes("map/config/"+o,null,(function(e,o){if(e)n(e,o);else{var r="";if(o._file){window.LZString&&(r=window.LZString.decompressFromEncodedURIComponent(o._file));var t=JSON.parse(r);n(null,t)}else if(o.text){window.LZString&&(r=window.LZString.decompressFromEncodedURIComponent(o.text));t=JSON.parse(r);n(null,t)}else o.json?n(null,o.json):n("failed")}}))},e.getMapObj=function(e,n,o,t){for(var a=[],s=0;s<n.length;s++)a.push("map/"+e+"/"+n[s]);r.load(a,i,o,t)},e.getUIPrefabRes=function(e,n){this.loadRes("ui/"+e,i,n)},e.getJsonData=function(e,n){this.loadRes("datas/"+e,null,(function(e,o){e?t(e.message||e):o.json?n(e,o.json):n("failed!!!")}))},e.getTextData=function(e,n){this.loadRes("levelDatas/"+e,null,(function(e,o){if(e)t(e.message||e);else{var r=o.text;n(e,r)}}))},e.setSpriteFrame=function(e,n,o){this.loadRes(e+"/spriteFrame",s,(function(r,t){if(r)return console.error("set sprite frame failed! err:",e,r),void o(r);n&&u(n)&&(n.spriteFrame=t,o(null))}))},e}())||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/RotateUtil.ts",["cc","./Vec3Util.ts"],(function(t){"use strict";var o,n,r,e,i;return{setters:[function(t){o=t.cclegacy,n=t.Quat,r=t.Vec3,e=t.toRadian},function(t){i=t.Vec3Util}],execute:function(){o._RF.push({},"103324kr75Hi5d7RZCcRt3P","RotateUtil",void 0);t("RotateUtil",function(){function t(){}return t.rotateAround=function(t,o,r){var e=new n;n.rotateAround(e,t.getRotation(),o.normalize(),r),t.setRotation(e)},t.rotateAroundTarget=function(t,o,e,i){var a=t.worldPosition,u=o.worldPosition,c=new n,s=new r;n.fromAxisAngle(c,e,i),r.subtract(s,u,a),r.transformQuat(s,s,c),r.add(s,a,s),o.setWorldPosition(s),n.rotateAround(c,o.worldRotation,e,i),n.normalize(c,c),o.setWorldRotation(c)},t.circularEdgePosition=function(t,o,a){var u=i.z.multiplyScalar(o),c=i.sub(u,t),s=new r,l=new n;return n.fromAxisAngle(l,r.UP,e(a)),r.transformQuat(s,c,l),r.add(s,t,s),s},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/CsvManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i;return{setters:[function(e){t=e.defineProperty,r=e.createClass},function(e){n=e.cclegacy,i=e._decorator}],execute:function(){var s,u,a;n._RF.push({},"17d258WLDdDn7sEFqgrQ1kM","CsvManager",void 0);var o=i.ccclass,l=(i.property,[",",";","\t","|","^"]),c=["\r\n","\r","\n"],h=function(e,t,r,n){return r instanceof Array?"number"===r[t]?Number(n[t]):"boolean"===r[t]?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:isNaN(Number(e))?"false"==e||"true"==e||"t"==e||"f"==e?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:Number(n[t])},f={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:l[0],newline:c[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,assign:function(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r=e.slice(1),n=0,i=r.length;n<i;n++)for(var s in r[n])t[s]=r[n][s];return t},map:function(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r[n]=t(e[n],n);return r},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},getLimit:function(e,t){return!1===e?t:e},buildObjectConstructor:function(e,t,r){return function(n){var i=new Object,s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,h(t[i],i,r,n))})):e.forEach((function(e,r){s(e,h(t[r],r,null,n))})),i}},buildArrayConstructor:function(e,t,r){return function(n){var i=new Array(t.length),s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,h(t[i],i,r,n))})):e.forEach((function(e,r){s(e,h(t[r],r,null,n))})),i}},frequency:function(e,t,r){void 0===r&&(r=!1);for(var n=0,i=0,s=this.getLimit(r,e.length);i<s&&-1!==(i=e.indexOf(t,i));)i+=1,n++;return n},mostFrequent:function(e,t,r){for(var n,i=t.length-1;i>=0;i--)this.frequency(e,t[i],r)>0&&(n=t[i]);return n||t[0]},unsafeParse:function(e,t,r){var n,i,s=e.split(t.newline);function u(e){var r=e.shift();if(r.indexOf('"')>=0){for(var n=0,i=0,s=0;e.length>0&&(-1!==(n=r.indexOf('"',i))||s%2!=0);)-1!==n?(i=n+1,s++):r=r+t.newline+e.shift();var u,a=[],o=0,l=0,c=0,h=r.length;for(var f in r)if(r.hasOwnProperty(f)){var d=parseInt(f),g=r[f];0===d&&'"'===g&&(o++,l=1),'"'===g&&(o++,r[d-1]===t.delimiter&&l===d&&l++),'"'===g&&o%2==0&&(r[d+1]!==t.delimiter&&d+1!==h||(c=d,u=r.substring(l,c),a.push(u),c=l=c+2)),g===t.delimiter&&o%2==0&&((c=d)>l?(u=r.substring(l,c),a.push(u),c=l=c+1):c===l&&(a.push(""),c=l=c+1))}return(c=h)>=l&&(u=r.substring(l,c),a.push(u)),a}return r.split(t.delimiter)}for(t.skip>0&&s.splice(t.skip),t.header?(!0===t.header?(t.comment=u(s),t.cast=u(s),n=u(s)):"Array"===this.getType(t.header)&&(n=t.header),i=this.buildObjectConstructor(n,s[0].split(t.delimiter),t.cast)):i=this.buildArrayConstructor(n,s[0].split(t.delimiter),t.cast);s.length>0;){var a=u(s);a.length>1&&r(i(a),n[0])}return!0},safeParse:function(e,t,r){t.delimiter;var n=t.newline,i=e.split(n);return t.skip>0&&i.splice(t.skip),!0},encodeCells:function(e,t,r){for(var n=e.slice(0),i=0,s=n.length;i<s;i++)-1!==n[i].indexOf(this.quoteMark)&&(n[i]=n[i].replace(this.quoteRegex,this.doubleQuoteMark)),-1===n[i].indexOf(t)&&-1===n[i].indexOf(r)||(n[i]=this.quoteMark+n[i]+this.quoteMark);return n.join(t)},encodeArrays:function(e,t,r){var n=t.delimiter,i=t.newline;t.header&&"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,n,i));for(var s=0,u=this.getLimit(t.limit,e.length);s<u;s++)r(this.encodeCells(e[s],n,i));return!0},encodeObjects:function(e,t,r){var n,i,s=t.delimiter,u=t.newline;for(var a in n=[],i=[],e[0])n.push(a),i.push(e[0][a]);!0===t.header?r(this.encodeCells(n,s,u)):"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,s,u)),r(this.encodeCells(i,s));for(var o=1,l=this.getLimit(t.limit,e.length);o<l;o++){i=[];for(var c=0,h=n.length;c<h;c++)i.push(e[o][n[c]]);r(this.encodeCells(i,s,u))}return!0},parse:function(e,t,r){var n;if("Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)?r=(n=[]).push.bind(n):n=[],t=this.assign({},this.STANDARD_DECODE_OPTS,t),this.opts=t,!t.delimiter||!t.newline){var i=Math.min(48,Math.floor(e.length/20),e.length);t.delimiter=t.delimiter||this.mostFrequent(e,l,i),t.newline=t.newline||this.mostFrequent(e,c,i)}return this.unsafeParse(e,t,r)&&(!(n.length>0)||n)},encode:function(e,t,r){var n;return"Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)&&(r=(n=[]).push.bind(n)),(t=this.assign({},this.STANDARD_ENCODE_OPTS,t)).skip>0&&(e=e.slice(t.skip)),("Array"===this.getType(e[0])?this.encodeArrays:this.encodeObjects)(e,t,r)&&(!(n.length>0)||n.join(t.newline))}};e("CSVManager",o("CSVManager")((a=u=function(){function e(){t(this,"_csvTables",{}),t(this,"_csvTableForArr",{}),t(this,"_tableCast",{}),t(this,"_tableComment",{})}var n=e.prototype;return n.addTable=function(e,t,r){if(!this._csvTables[e]||r){var n={},i=[];f.parse(t,{header:!0},(function(e,t){n[e[t]]=e,i.push(e)})),this._tableCast[e]=f.opts.cast,this._tableComment[e]=f.opts.comment,this._csvTables[e]=n,this._csvTableForArr[e]=i}},n.getTableArr=function(e){return this._csvTableForArr[e]},n.getTable=function(e){return this._csvTables[e]},n.queryOne=function(e,t,r){var n=this.getTable(e);if(!n)return null;if(!t)return n[r];for(var i in n)if(n.hasOwnProperty(i)&&n[i][t]===r)return n[i]},n.queryByID=function(e,t){return this.queryOne(e,null,t)},n.queryAll=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;var i={};for(var s in n)n.hasOwnProperty(s)&&n[s][t]===r&&(i[s]=n[s]);return i},n.queryIn=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;for(var i={},s=Object.keys(n),u=s.length,a=0;a<u;a++){var o=n[s[a]];r.indexOf(o[t])>-1&&(i[s[a]]=o)}return i},n.queryByCondition=function(e,t){if(t.constructor!==Object)return null;var r=this.getTable(e);if(!r)return null;for(var n={},i=Object.keys(r),s=i.length,u=Object.keys(t),a=u.length,o=0;o<s;o++){for(var l=r[i[o]],c=!0,h=0;h<a;h++){var f=u[h];c=c&&t[f]===l[f]&&!n[i[o]]}c&&(n[i[o]]=l)}return n},n.queryOneByCondition=function(e,t){if(t.constructor!==Object)return null;var r=this.getTable(e);if(!r)return null;var n=Object.keys(t),i=n.length;for(var s in r){for(var u=r[s],a=!0,o=0;o<i;o++){var l=n[o];a=a&&t[l]===u[l]}if(a)return u}return null},r(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}(),t(u,"_instance",void 0),s=a))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/PathHelper.ts",["cc","./Vec3Util.ts"],(function(l){"use strict";var t,n,e;return{setters:[function(l){t=l.cclegacy,n=l.v3},function(l){e=l.Vec3Util}],execute:function(){t._RF.push({},"25da2tFD8xFYqgeffRlp/ib","PathHelper",void 0);l("default",function(){function l(){}return l.GetWayPoints=function(t,n){if(!(null==t||t.length<=1)){for(var e=[],a=l.PathControlPointGenerator(t),r=(l.Interp(a,0),(t.length-1)*n),c=1;c<=r;c++){var u=c/r,i=l.Interp(a,u);e.push(i),i}return e}console.log("points is empty!")},l.PathControlPointGenerator=function(l){var t=[];(t=l).unshift(n()),t.push(n());var a=e.add(t[1],e.sub(t[1],t[2]));t[0]=a;var r=e.add(t[t.length-2],e.sub(t[t.length-2],t[t.length-3]));if(t[t.length-1]=r,t[1]==t[t.length-2]){var c=t;c[0]=c[c.length-3],c[c.length-1]=c[2],t=c}return t},l.Interp=function(l,t){var n=l.length-3,a=Math.min(Math.floor(t*n),n-1),r=t*n-a,c=l[a],u=l[a+1],i=l[a+2],o=l[a+3],p=e.v3Adds([c.clone().multiplyScalar(-1),u.clone().multiplyScalar(3),i.clone().multiplyScalar(-3),o]).multiplyScalar(r*r*r),s=e.v3Adds([c.clone().multiplyScalar(2),u.clone().multiplyScalar(-5),i.clone().multiplyScalar(4),o.clone().multiplyScalar(-1)]).multiplyScalar(r*r),h=e.v3Adds([c.clone().multiplyScalar(-1),i]).multiplyScalar(r);return e.v3Adds([p,s,h,u.clone().multiplyScalar(2)]).multiplyScalar(.5)},l}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Vec3Util.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var r,t,e,o,i,u,a,c,l,s,f,g,y;return{setters:[function(n){r=n.createClass},function(n){t=n.cclegacy,e=n.v2,o=n.math,i=n.Vec2,u=n.Vec3,a=n.v3,c=n.Mat4,l=n.quat,s=n.Quat,f=n.color,g=n.Color,y=n.v4}],execute:function(){t._RF.push({},"38947ih8d5EQ7HG4buug+SR","Vec3Util",void 0);n("Vec3Util",function(){function n(){}return n.v2NormalRotate=function(n,r){var t=e();r=(r+360)%360;var i=o.toRadian(r);return t.x=n.x*Math.cos(i)+n.y*Math.sin(i),t.y=-n.x*Math.sin(i)+n.y*Math.cos(i),t},n.getV2Angle=function(n,r,t){var e=Math.acos(i.dot(n.normalize(),r.normalize()))*(180/Math.PI);t&&(e=i.dot(n,t)>=0?e:360-e);return e},n.distanceV2=function(n,r){var t=this.pow(n.x-r.x,2),e=this.pow(n.y-r.y,2);return this.sqrtPow(t+e)},n.v2Cross=function(n,r){return n.x*r.y-n.y*r.x},n.pow=function(n,r){return Math.pow(n,r)},n.sqrtPow=function(n,r){return r?Math.pow(n,1/r):Math.sqrt(n)},n.getMidpointVec2=function(n,r){return e((n.x+r.x)/2,(n.y+r.y)/2)},n.lerpVec2=function(n,r,t){return void 0===t&&(t=1),new i(this.lerpNumber(n.x,r.x,t),this.lerpNumber(n.y,r.y,t))},n.progressV3=function(n,r,t){var e=new u;return e.x=this.progress(n.x,r.x,t),e.y=this.progress(n.y,r.y,t),e.z=this.progress(n.z,r.z,t),e},n.progress=function(n,r,t){return n+(r-n)*t},n.add=function(n,r){var t=new u;return u.add(t,n,r),t},n.v3Adds=function(n){for(var r=a(),t=0;t<n.length;t++)r.x+=n[t].x,r.y+=n[t].y,r.z+=n[t].z;return r},n.sub=function(n,r){var t=new u;return u.subtract(t,n,r),t},n.mul=function(n,r){var t=new u;return u.multiplyScalar(t,n,r),t},n.div=function(n,r){var t=new u;return t.x=n.x/r,t.y=n.y/r,t.z=n.z/r,t},n.equals=function(n,r){return n.x==r.x&&n.y==r.y&&n.z==r.z},n.magnitude=function(n){return n.length()},n.normalize=function(n){return new u(n.x,n.y,n.z).normalize()},n.setStringToVec3=function(n){var r=n.split(",");return new u(Number(r[0]),Number(r[1]),Number(r[2]))},n.direction=function(n,r){var t=new u;return u.subtract(t,r,n),t.normalize()},n.distance=function(n,r){return u.distance(n,r)},n.distanceByXZ=function(n,r){return i.distance(e(n.x,n.z),e(r.x,r.z))},n.getMidpointVec3=function(n,r){return a((n.x+r.x)/2,(n.y+r.y)/2,(n.z+r.z)/2)},n.lerpVec3=function(n,r,t){return this.bezierOne(t,n,r)},n.lerpNumber=function(n,r,t){return void 0===t&&(t=1),(r-n)*t+n},n.slerp=function(n,r,t){if(t<=0)return n;if(t>=1)return r;var e=this.rotateTo(n,r,u.angle(n,r)/Math.PI*180*t),o=r.length()*t+n.length()*(1-t);return e.normalize().multiplyScalar(o)},n.rotateTo=function(n,r,t){if(0==u.angle(n,r))return r;var e=new u;u.cross(e,n,r),e.normalize();var o=t*Math.PI/180,i=new c;return i.rotate(o,e),new u(n.x*i.m00+n.y*i.m04+n.z*i.m08,n.x*i.m01+n.y*i.m05+n.z*i.m09,n.x*i.m02+n.y*i.m06+n.z*i.m10)},n.bezierOne=function(n,r,t){n>1?n=1:n<0&&(n=0);var e=r.clone(),o=t.clone();return e.multiplyScalar(1-n).add(o.multiplyScalar(n))},n.dot=function(n,r){var t=n,e=r;return t.x*e.x+t.y*e.y+t.z*e.z},n.cross=function(n,r){var t=new u(1,0,0),e=new u(0,1,0),o=new u(0,0,1),i=new u(n.x,n.y,n.z),a=new u(r.x,r.y,r.z),c=t.multiplyScalar(i.y*a.z-a.y*i.z),l=e.multiplyScalar(a.x*i.z-i.x*a.z),s=o.multiplyScalar(i.x*a.y-a.x*i.y);return c.add(l).add(s)},n.getV3sort=function(n,r,t){return n.sort((function(n,e){return t?e[r]-n[r]:n[r]-e[r]}))},n.getV3sortByNode=function(n,r,t){return n.sort((function(n,e){return t?e.worldPosition[r]-n.worldPosition[r]:n.worldPosition[r]-e.worldPosition[r]}))},n.createFromYawPitchRoll=function(n){var r=l();return r=s.fromEuler(r,o.toRadian(n.y),o.toRadian(n.x),o.toRadian(n.z))},n.getNorAngle=function(n){return n<=-180?n%360+360:n>180?n%360-360:n},n.angle=function(n,r){var t=this.dot(n.clone().normalize(),r.clone().normalize());return Math.acos(t)/Math.PI*180*Math.sign(t)},n.dirAngle=function(r,t){var e=n.cross(r,t);return n.angle(r,t)*Math.sign(n.dot(e.normalize(),n.cross(t.normalize(),r.normalize())))},n.getUnAngle=function(n,r){return o.toDegree(u.angle(n,r))},n.getAngle=function(n,r){var t=u.angle(n,r),e=o.toDegree(t);return e=u.cross(a(),n,r).y>0?e:-e},n.getTwoPosXZRadius=function(n,r){return o.toDegree(Math.atan2(n.x-r.x,n.z-r.z))},n.lockPos=function(n,r,t){void 0===t&&(t=!0);var e=u.subtract(a(),n,r).normalize();t&&e.multiplyScalar(-1);var o=new s;return s.fromViewUp(o,e,a(0,1,0)),o},n.getAngleToStop=function(n,r){r.x-=n.x,r.z-=n.z;var t=0;if(0==r.x&&0==r.z)return 0;if(r.x>0&&r.z>0)t=0;else{if(r.x>0&&0==r.z)return 90;if(r.x>0&&r.z<0)t=180;else{if(0==r.x&&r.z<0)return 180;if(r.x<0&&r.z<0)t=180;else{if(r.x<0&&0==r.z)return-90;r.x<0&&r.z>0&&(t=0)}}}return o.toDegree(Math.atan(r.x/r.z))+t},n.setNdPosRotScaleByDate=function(n,r,t){if(void 0===t&&(t=!0),n){var e=r.split("|"),o=this.stringToVec3(e[0]),i=this.stringToVec3(e[1]),u=this.stringToVec3(e[2]);t?(n.worldPosition=o,n.eulerAngles=i,n.worldScale=u):(n.position=o,n.eulerAngles=i,n.scale=u)}},n.stringToVec3=function(n){var r=n.split(",");return r.length<=2?new u(Number(r[0]),0,Number(r[1])):new u(Number(r[0]),Number(r[1]),Number(r[2]))},n.stringToColor=function(n){var r=n.split(",");return f(Number(r[0]),Number(r[1]),Number(r[2]),Number(r[3]))},n.getReflectedDir=function(n,r){return u.subtract(a(),n,r.clone().multiplyScalar(2*u.dot(n,r)))},n.SlerpBook=function(n,r,t){var e,o,i=s.dot(n,r);if(i<0&&(n.x=-n.x,n.y=-n.y,n.z=-n.z,n.w=-n.w),i>.9999)e=1-t,o=t;else{i=i<-1?-1:i;var u=Math.sqrt(1-i*i),a=Math.atan2(u,i);if(0==u)return n;var c=1/u;e=Math.sin((1-t)*a)*c,o=Math.sin(t*a)*c}return l(n.x*e+r.x*o,n.y*e+r.y*o,n.z*e+r.z*o,n.w*e+r.w*o)},n.onV4ToColor=function(n){return new g(255*n.x,255*n.y,255*n.z,255*n.w)},n.onColorToV4=function(n){return y(n.r/255,n.g/255,n.b/255,n.a/255)},n.onColorChange=function(n,r,t,e){void 0===r&&(r=40),void 0===t&&(t=190),void 0===e&&(e=35);var o=this.onV4ToColor(n),i=0;return o.r>r&&o.g==r&&o.b==t?((i=o.r-e)<r&&(i=r),o.r=i):o.r<t&&o.g==t&&o.b==r?((i=o.r+e)>t&&(i=t),o.r=i):o.r==t&&o.g>r&&o.b==r?((i=o.g-e)<r&&(i=r),o.g=i):o.r==r&&o.g<t&&o.b==t?((i=o.g+e)>t&&(i=t),o.g=i):o.r==r&&o.g==t&&o.b>r?((i=o.b-e)<r&&(i=r),o.b=i):o.r==t&&o.g==r&&o.b<t?((i=o.b+e)>t&&(i=t),o.b=i):o=new g(t,r,t),this.onColorToV4(o)},n.onGetRectanglePoints=function(r,t,o,u,a,c){void 0===c&&(c=0);var l=[],s=t.x+c,f=t.z+c,g=e(r.x,r.z);return l.push(i.add(e(),g,n.v2NormalRotate(e(u/2*s,-a/2*f),o))),l.push(i.add(e(),g,n.v2NormalRotate(e(u/2*s,a/2*f),o))),l.push(i.add(e(),g,n.v2NormalRotate(e(-u/2*s,a/2*f),o))),l.push(i.add(e(),g,n.v2NormalRotate(e(-u/2*s,-a/2*f),o))),l},n.colorToHex=function(n){var r=100*Number(n.a),t="#";return{color:t+=((1<<24)+(n.r<<16)+(n.g<<8)+n.b).toString(16).slice(1),opacity:r}},n.hexToColor=function(n,r){void 0===r&&(r=.1);var t=f();return t.r=parseInt("0x"+n.slice(1,3)),t.g=parseInt("0x"+n.slice(3,5)),t.b=parseInt("0x"+n.slice(5,7)),t.a=r,t},r(n,null,[{key:"x",get:function(){return new u(1,0,0)}},{key:"y",get:function(){return new u(0,1,0)}},{key:"z",get:function(){return new u(0,0,1)}},{key:"left",get:function(){return new u(-1,0,0)}},{key:"right",get:function(){return new u(1,0,0)}},{key:"up",get:function(){return new u(0,1,0)}},{key:"down",get:function(){return new u(0,-1,0)}},{key:"forward",get:function(){return new u(0,0,1)}},{key:"back",get:function(){return new u(0,0,-1)}},{key:"one",get:function(){return new u(1,1,1)}},{key:"zero",get:function(){return new u(0,0,0)}}]),n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EZOrder.ts",["cc"],(function(r){"use strict";var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){var t;r("EZOrder",void 0),e._RF.push({},"3ceb7PzuphC3J0qMI1rMLmQ","EZOrder",void 0),function(r){r.MAP="map",r.NORMAL="normal",r.WIDGET="widget",r.BLOOD="blood",r.WINDOW="window",r.DIALOG="dialog",r.TIP="tip",r.GUIDE="guide",r.MAX="max"}(t||(t=r("EZOrder",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(e){"use strict";var n,l,r,o,t,a,s,i;return{setters:[function(e){n=e.inheritsLoose,l=e.defineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,t=e.SpriteFrame,a=e.assetManager,s=e.resources},function(e){i=e.default}],execute:function(){o._RF.push({},"43a51oAg45PgKF6I7qG1RWv","ResManager",void 0);e("default",function(e){function o(){for(var n,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];return n=e.call.apply(e,[this].concat(t))||this,l(r(n),"frames",{}),n}n(o,e);var i=o.prototype;return i.setSpriteFrame=function(e,n,l){this.frames[n]?e.spriteFrame=this.frames[n]:this.loadRes(n,l,(function(n,l){e.spriteFrame=l}),this,t)},i.loadRes=function(e,n,l,r,o){var t=this,a=function(n,a){n||"cc_SpriteFrame"==(null==o?void 0:o.name)&&(a.shift?a.forEach((function(n){t.frames[e+n.name]=n})):t.frames[e]=a),null==l||l.call(r,n,a)};n?this.loadResFromBundle(e,n,a,o):this.loadResFromResources(e,a,o)},i.loadResFormArray=function(e,n,l,r){var o=this;if(0!=e.length){var t=0,a=[];e.forEach((function(s){o.loadRes(s,null,(function(r,o){t++,a.push(o),r&&console.log("loadResFormArray err",r),t==e.length&&(null==n||n.call(l,a))}),o,r)}))}else null==n||n.call(l)},i.preloadBundles=function(e,n,l){if(0!=e.length){var r=0;e.forEach((function(o){a.loadBundle(o,(function(o,t){r++,o&&console.log("loadBundle err",o),r==e.length&&(null==n||n.call(l))}))}))}else null==n||n.call(l)},i.loadResFromResources=function(e,n,l){this.isDir(e)?s.loadDir(e,l,n):s.load(e,l,n)},i.loadResFromBundle=function(e,n,l,r){var o=this,t=a.getBundle(n);t?this.isDir(e)?t.loadDir(e,r,l):t.load(e,r,l):a.loadBundle(n,(function(n,a){n?console.log("loadBundle err",n):o.isDir(e)?t.loadDir(e,r,l):a.load(e,r,l)}))},i.isDir=function(e){return"/"==e[e.length-1]},o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var n,t;return{setters:[function(r){n=r.defineProperty},function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"4613b2zY/dMSaGPBGo6eti3","ArrayUtil",void 0);var e=r("default",function(){function r(){}return r.noRepeated=function(r){for(var n=[r[0]],t=1;t<r.length;t++){for(var e=!1,u=0;u<n.length;u++)if(r[t]==n[u]){e=!0;break}e||n.push(r[t])}return n},r.copy2DArray=function(r){for(var n=[],t=0;t<r.length;t++)n.push(r[t].concat());return n},r.fisherYatesShuffle=function(r){for(var n=r.length;n;){var t=Math.floor(Math.random()*n--),e=r[n];r[n]=r[t],r[t]=e}return r},r.confound=function(r){return r.slice().sort((function(){return Math.random()-.5}))},r.flattening=function(r){for(;r.some((function(r){return Array.isArray(r)}));)r=[].concat.apply([],r);return r},r.removeRepeated=function(r){return[].concat(new Set(r))},r.stringArrayToNumber=function(r){var n=[];return r.forEach((function(r,t,e){n.push(Number(r))})),n},r.removeItem=function(r,n){for(var t=r.concat(),e=0;e<t.length;e++){if(n==t[e]){r.splice(e,1);break}}},r.combineArrays=function(r,n){return[].concat(r,n)},r.getSort=function(r,n){return r.sort((function(r,t){return n?t-r:r-t}))},r.checkInArray=function(r,n){return-1!==n.indexOf(r)},r.getMin=function(r){var n=null;if(r.constructor===Array)for(var t=r.length,e=0;e<t;e++)n=0===e?Number(r[0]):n>Number(r[e])?Number(r[e]):n;return n},r.getArrsort=function(r,n){return r.sort((function(r,t){return n?t-r:r-t}))},r.formatTwoDigits=function(r){return(Array(2).join(0)+r).slice(-2)},r.getRandomValueInArray=function(r){return r[Math.floor(Math.random()*r.length)]},r.difference=function(r,n){var t=[];if(r.constructor!==Array||n.constructor!==Array)return t;for(var e=r.length,u=0;u<e;u++)-1===n.indexOf(r[u])&&t.push(r[u]);return t},r.find=function(r,n){var t;if(Array.isArray(r)||(r=this._toArray(r)),(t=r.filter(n)).length)return t[0]},r.forEach=function(r,n){Array.isArray(r)?r.forEach(n):this._toArrayKey(r).forEach((function(t,e,u){var i=t.key,o=t.value;n(o,i,r)}))},r.cloneDeep=function(r){if(null===r||"object"!=typeof r)return r;var n={};for(var t in r.constructor===Array&&(n=[]),r)r.hasOwnProperty(t)&&(n[t]=this.cloneDeep(r[t]));return n},r.map=function(r,n){Array.isArray(r)||(r=this._toArray(r));var t=[];return r.forEach((function(r,e,u){t.push(n(r,e,u))})),t},r._toArrayKey=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push({key:t,value:r[t]});return n},r._toArray=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push(r[t]);return n},r.filter=function(r,n){return Array.isArray(r)||(r=this._toArray(r)),r.filter(n)},r.isEqual=function(r,n){if(!(r instanceof Object)||!(n instanceof Object))return r===n;if(Object.keys(r).length!==Object.keys(n).length)return!1;for(var t in r){var e=r[t]instanceof Object,u=n[t]instanceof Object;if(e&&u)return this.isEqual(r[t],n[t]);if(r[t]!==n[t])return!1}return!0},r.pullAllWith=function(r,n,t){return n.forEach((function(n){r.filter((function(r){return t(r,n)})).forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)}))})),r},r.now=function(){return Date.now()},r.pullAll=function(r,n){return n.forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)})),r},r.pullAllByOne=function(r,n){var t=r.indexOf(n);return-1!==t&&r.splice(t,1),r},r.forEachRight=function(r,n){Array.isArray(r)||(r=this._toArray(r));for(var t=r.length-1;t>=0;t--){if(!n(r[t]))break}},r.startsWith=function(r,n,t){return(r=r.substr(t)).startsWith(n)},r.endsWith=function(r,n,t){return(r=r.substr(t)).endsWith(n)},r.remove=function(r,n){var t=[],e=[];return r.forEach((function(r,u){n(r)&&(t.push(r),e.push(u))})),this._basePullAt(r,e),t},r._basePullAt=function(r,n){for(var t,e=r?n.length:0,u=e-1;e--;){var i=n[e];e!==u&&i===t||(t=i,Array.prototype.splice.call(r,i,1))}return r},r.findIndex=function(r,n,t){var e;if(r=r.slice(t),"function"==typeof n){for(e=0;e<r.length;e++)if(n(r[e]))return e}else if(Array.isArray(n))for(e=0;e<r.length;e++){var u=n[0],i=!0;if(n.length>1&&(i=n[1]),r[e][u]===i)return e}else for(e=0;e<r.length;e++)if(r[e]===n)return e;return-1},r.concat=function(){var r=arguments.length;if(!r)return[];for(var n=arguments[0],t=1;t<r;)n=n.concat(arguments[t]),t++;return n},r.isNumber=function(r){return"number"==typeof r},r.indexOf=function(r,n,t){return(r=r.slice(t)).indexOf(n)},r.join=function(r,n){if(null===r)return"";var t="";return r.forEach((function(r){t+=r+n})),t.substr(0,t.length-1)},r.split=function(r,n,t){return r.split(n,t)},r.max=function(r){if(r&&r.length){for(var n,t=0;t<r.length;t++)0===t?n=r[0]:n<r[t]&&(n=r[t]);return n}},r.drop=function(r,n){return(null===r?0:r.length)?r.slice(n):[]},r.flattenDeep=function(r){return r.reduce((function(r,n){return r.concat(Array.isArray(n)?this.flattenDeep(n):n)}),[])},r.uniq=function(r){var n=[];return r.forEach((function(r){-1===n.indexOf(r)&&n.push(r)})),n},r.isNaN=function(r){return this.isNumber(r)&&r!==+r},r.chunk=function(r,n){if(!(null===r?0:r.length)||n<1)return[];for(var t=[];r.length>n;)t.push(r.slice(0,n)),r=r.slice(n);return t.push(r),t},r.toFinite=function(r){var n=1/0;return r?(r=Number(r))===n||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0},r.isObject=function(r){var n=typeof r;return null!==r&&("object"===n||"function"===n)},r.isLength=function(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=this.MAX_SAFE_INTEGER},r._isArrayLike=function(r){return null!==r&&this.isLength(r.length)},r.maxBy=function(r,n){if(r&&r.length){for(var t,e,u=0;u<r.length;u++)0===u?(t=n(r[0]),e=r[0]):t<r[u]&&(t=r[u],e=r[u]);return e}},r.minBy=function(r,n){if(r&&r.length){for(var t,e,u=0;u<r.length;u++)0===u?(t=n(r[0]),e=r[0]):t>r[u]&&(t=n(r[u]),e=r[u]);return e}},r.sumBy=function(r,n){var t=0;for(var e in r)t+=n(r[e]);return t},r.countBy=function(r,n){var t={};for(var e in r){var u=n(e);t.hasOwnProperty(u)?t[u]+=1:t[u]=1}return t},r}());n(e,"MAX_SAFE_INTEGER",9007199254740991),t._RF.pop()}}}));

System.register("chunks:///_virtual/window.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"47885eMFvpO053aQIQsi8MZ","window",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BezierUtils.ts",["cc","./RandomUtil.ts"],(function(t){"use strict";var e,n,r,a,o,i,l;return{setters:[function(t){e=t.cclegacy,n=t.v2,r=t.v3,a=t.macro,o=t.Vec2,i=t.tween},function(t){l=t.RandomUtil}],execute:function(){e._RF.push({},"57f1cWXZnlNfZ61XUe6RiZz","BezierUtils",void 0);t("default",function(){function t(){}return t.bezier=function(t,e,r,a,o,i,l){void 0===e&&(e=0),void 0===r&&(r=0);var u=1-t,c=n();return c.x=u*u*e+2*t*u*a+t*t*i,c.y=u*u*r+2*t*u*o+t*t*l,c},t.CalculateCubicBezierPoint=function(t,e,n,r){t>1?t=1:t<0&&(t=0);var a=1-t,o=t*t,i=a*a,l=e.clone().multiplyScalar(i);return l=(l=l.add(n.clone().multiplyScalar(2*a*t))).add(r.clone().multiplyScalar(o))},t.GetBeizerList=function(e,n,r,a){for(var o=[],i=1;i<=a;i++){var l=i/a,u=t.CalculateCubicBezierPoint(l,e,n,r);o.push(u)}return o},t.bezierThree=function(t,e,n,r,a){t>1?t=1:t<0&&(t=0);var o=1-t,i=o*o,l=i*o,u=t*t,c=u*t,s=e.clone(),z=e.clone(),h=n.clone(),x=r.clone(),d=a.clone();return z.add(s.multiplyScalar(l)),z.add(h.multiplyScalar(3*i*t)),z.add(x.multiplyScalar(3*o*u)),z.add(d.multiplyScalar(c)),z},t.Beziers=function(e,n){for(var a=r(),o=e.length-1,i=0;i<=o;i++){var l=e[i],u=i;if(0==u)a=a.add(l.clone().multiplyScalar(Math.pow(1-n,o-u)).multiplyScalar(Math.pow(n,u)));else{var c=t.fact(o),s=t.fact(u),z=t.fact(o-u),h=Math.pow(1-n,o-u),x=Math.pow(n,u);a=a.add(l.clone().multiplyScalar(c/s/z*h*x))}}return a},t.fact=function(t){if(0==t)return 1;for(var e=1,n=1;n<=t;n++)e*=n;return e},t.getBezier=function(t,e){return 2===e.length?(1-t)*e[0]+t*e[1]:3===e.length?(1-t)*(1-t)*e[0]+2*t*(1-t)*e[1]+t*t*e[2]:(console.error("未补充"+e.length+"次方公式"),0)},t.getBezierCalculateList=function(t,e,n,r,i){void 0===i&&(i=.11);var u,c,s=[],z=0,h=null,x={x:0,z:0},d=[],f=[],p=1,v=function(t){d.push(t.x),f.push(t.z)},g=e;for(n&&(p=0,t[0]=n);999!==p;){d.length=0,f.length=0;var m=0;if((u=t[p]).nextIdList.length>1&&(m=Math.floor(Math.random()*u.nextIdList.length)),c=t[u.nextIdList[m]],h)if(v(h),c.isBendEnd){var M=(g=l.getRandomRange(.4,!0))*Math.sin((c.eulY+90)*a.RAD),y=g*Math.cos((c.eulY+90)*a.RAD);x={x:c.pos.x+M,z:c.pos.z+y},u.eulY-c.eulY<0?v({x:h.x,z:x.z}):v({x:x.x,z:h.z})}else{x=c.pos;var R=u.pos,w=this.checkTwoPosEulRad(R.x,R.z,x.x,x.z),B=Math.sqrt((R.x-x.x)*(R.x-x.x)+(R.z-x.z)*(R.z-x.z));x={x:h.x-Math.sin(w)*B,z:h.z-Math.cos(w)*B}}else{if(0===p){h={x:u.pos.x,z:u.pos.z};var S=g*Math.sin((c.eulY+90)*a.RAD),b=g*Math.cos((c.eulY+90)*a.RAD);x={x:c.pos.x+S,z:c.pos.z+b}}else{var L=g*Math.sin((u.eulY+90)*a.RAD),Y=g*Math.cos((u.eulY+90)*a.RAD);h={x:u.pos.x+L,z:u.pos.z+Y},x={x:c.pos.x+L,z:c.pos.z+Y}}v(h)}v(x);for(var A=this.getTwoPosXZLength(h.x,h.z,x.x,x.z),D=Math.round(A/i),F=0;F<D;F++){var P=new o(0,0);z=F/D,P.x=Number(this.getBezier(z,d).toFixed(3)),P.y=Number(this.getBezier(z,f).toFixed(3)),s.push(P)}h=x,999===(p=u.nextIdList[m])&&(s.push(new o(Number(h.x.toFixed(3)),Number(h.z.toFixed(3)))),r(s))}},t.checkTwoPosEulRad=function(t,e,n,r){return Math.atan2(t-n,e-r)},t.getTwoPosXZLength=function(t,e,n,r){var a=t-n,o=e-r;return Math.sqrt(a*a+o*o)},t.bezierTo=function(t,e,n,a,o,l,u){u=u||Object.create(null);return u.onUpdate=function(e,i){var l,u,c,s,z,h,x;t.position=(c=a,s=o,z=(1-(l=i))*(1-l)*(u=n).x+2*l*(1-l)*c.x+l*l*s.x,h=(1-l)*(1-l)*u.y+2*l*(1-l)*c.y+l*l*s.y,x=(1-l)*(1-l)*u.z+2*l*(1-l)*c.z+l*l*s.z,r(z,h,x))},i(t).to(e,{},u).call(l).start()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FLStore.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,a,o;return{setters:[function(e){t=e.defineProperty},function(e){r=e.cclegacy,a=e.sys,o=e.log}],execute:function(){r._RF.push({},"5c621dTuhdP3bw9h9mDt/rj","FLStore",void 0);var n=e("FLStore",function(){function e(){}return e.set=function(t,r){if(e.storeCacheDatas[t]===r){var o=typeof r;if("number"===o||"string"===o||"boolean"===o)return}e.enabledStoreCache&&(e.storeCacheDatas[t]=r);var n={type:typeof r,value:r};if(n=JSON.stringify(n),"flstoreKeys"!==t){var l=e.flstoreKeys||e.get("flstoreKeys",{});e.flstoreKeys=l,l[t]||(l[t]=1,e.set("flstoreKeys",l))}var s=a.Platform.WECHAT_GAME;try{e.enabledStoreCache&&a.platform===s&&"flstoreKeys"!==t?window.wx.setStorage({key:t,data:n}):a.localStorage.setItem(t,n)}catch(e){a.platform===s&&window.wx.setStorage({key:t,data:n})}},e.setTodayValue=function(t,r){var a=new Date,o=a.getFullYear()+"_"+a.getMonth()+"_"+a.getDate();return e.set(t+"_"+o,r)},e.get=function(t,r){var o=e.storeCacheDatas[t];if(null!=o)return o;if(!(o=a.localStorage.getItem(t)))return e.enabledStoreCache&&e.set(t,r),r;var n=JSON.parse(o);return void 0===n.value||null===n.value?(e.enabledStoreCache&&e.set(t,r),r):(e.enabledStoreCache&&e.set(t,n.value),n.value)},e.getTodayValue=function(t,r){var a=new Date,o=a.getFullYear()+"_"+a.getMonth()+"_"+a.getDate();return e.get(t+"_"+o,r)},e.getTimeIntervalValue=function(t,r,a){try{var n=Math.floor(Date.now()/1e3),l=Math.floor(n/r);return e.get(t+"_"+l,a)}catch(e){o("FLStore.getTimeIntervalValue() : interval 不能为0！")}},e.setTimeIntervalValue=function(t,r,a){try{var n=Math.floor(Date.now()/1e3),l=Math.floor(n/r);return e.set(t+"_"+l,a)}catch(e){o("FLStore.getTimeIntervalValue() : interval 不能为0！")}},e.getBool=function(t,r){var a=e.get(t);return"true"===a||"false"!==a&&r},e.setBool=function(t,r){!0===r?e.set(t,!0):e.set(t,!1)},e.remove=function(e){a.localStorage.removeItem(e)},e.clear=function(){var t=e.get("flstoreKeys",{});for(var r in t)a.localStorage.removeItem(r),t[r]=void 0;e.set("flstoreKeys",{})},e.getAllKeys=function(){var t=[],r=e.get("flstoreKeys",{});for(var a in r)t.push(a);return t},e}());t(n,"enabledStoreCache",!0),t(n,"storeCacheDatas",{}),t(n,"flstoreKeys",null);try{window.FLStore=n}catch(e){}r._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"67f41j1fJBI85DMbC2WXXFe","Singleton",void 0);t("default",function(){function t(){}return t.getInstance=function(){return this.ins||(this.ins=new this),this.ins},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadPage.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GamePrefabs.ts","./LocalConfig.ts"],(function(e){"use strict";var n,a,t,o,r,i,c,s,l,u,f,p,d,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,c=e.ProgressBar,s=e.tween,l=e.assetManager,u=e.Prefab,f=e.director,p=e.Component},function(e){d=e.GamePrefabs},function(e){g=e.LocalConfig}],execute:function(){var b,m,y,h,v,D;r._RF.push({},"6d479NjUYJHN4rMbymNDt9G","LoadPage",void 0);var P=i.ccclass,L=i.property;e("LoadPage",(b=P("LoadPage"),m=L({type:c,tooltip:"进度条"}),b((v=n((h=function(e){function n(){for(var n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=e.call.apply(e,[this].concat(r))||this,t(o(n),"serializableDummy",v,o(n)),t(o(n),"bar",D,o(n)),n}a(n,e);var r=n.prototype;return r.onLoad=function(){},r.onEnable=function(){this.bar.progress=0,s(this.bar).to(3,{progress:1}).start(),l.loadBundle(d.getInstance().bundleName,(function(e,n){e?console.log("Bundle资源加载失败..."):(d.getInstance().gameBundle[d.getInstance().bundleName]=n,console.log("Bundle加载成功..."),n.loadDir("res/prefabs/prefab-3d",u,(function(e,a){a.forEach((function(e){var n=e.name;e.position||(n=e.data.name),d.getInstance().res[n]=e})),n.loadDir("res/effect/effect-prefab",u,(function(e,n){e||n.forEach((function(e){var n=e.name;e.position||(n=e.data.name),d.getInstance().effRes[n]=e}))})),n.loadDir("res/prefabs/prefab-2d",u,(function(e,n){n.forEach((function(e){var n=e.name;e.position||(n=e.data.name),d.getInstance().uiRes[n]=e})),g.instance.loadConfig((function(){console.log("加载CSV相关配置加载成功..."),f.loadScene("mainScene")}))}))})))}))},r.onDisable=function(){},n}(p)).prototype,"serializableDummy",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=n(h.prototype,"bar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlyToTarget.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BezierUtils.ts","./PoolManager.ts"],(function(e){"use strict";var t,i,s,o,n,l,r,a,h,c;return{setters:[function(e){t=e.inheritsLoose,i=e.defineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,n=e.game,l=e.Vec3,r=e.v3,a=e.Component},function(e){h=e.default},function(e){c=e.PoolManager}],execute:function(){o._RF.push({},"73ea8cd5VBO455kdQBRv64+","FlyToTarget",void 0);e("default",function(e){function o(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(s(t),"isInit",!1),i(s(t),"complete",null),i(s(t),"type",1),i(s(t),"bezierT",void 0),i(s(t),"bezierStartPos",null),i(s(t),"bezierEndPos",null),i(s(t),"bezierKeyPos",null),i(s(t),"bezierCycleTime",0),i(s(t),"fllowTarget",null),i(s(t),"fllowSpeed",1),i(s(t),"fllowMinDis",1),t}t(o,e);var a=o.prototype;return a.initBezier=function(e,t,i,s,o){void 0===i&&(i=null),void 0===s&&(s=1),this.bezierStartPos=e,this.bezierEndPos=t,this.bezierKeyPos=o||this.bezierStartPos.clone().add(this.bezierEndPos).multiplyScalar(.5),this.complete=i,this.bezierCycleTime=s,this.bezierT=0,this.type=1,this.isInit=!0},a.initFllow=function(e,t,i,s){void 0===s&&(s=null),this.fllowTarget=e,this.fllowSpeed=t,this.complete=s,this.type=2,this.isInit=!0},a.update=function(){if(this.isInit)switch(this.type){case 1:this.updataBezier();break;case 2:this.updataLine()}},a.updataBezier=function(){var e=h.CalculateCubicBezierPoint(this.bezierT/this.bezierCycleTime,this.bezierStartPos,this.bezierKeyPos,this.bezierEndPos);this.node.position=e,this.bezierT+=n.deltaTime,this.bezierT>=this.bezierCycleTime&&(this.node.position=this.bezierEndPos,this.complete&&this.complete(),this.complete||c.getInstance().putNode(this.node),this.isInit=!1)},a.updataLine=function(){this.fllowTarget&&this.fllowTarget.parent||(this.complete||c.getInstance().putNode(this.node),this.isInit=!1);var e=this.fllowTarget.worldPosition.clone();e.y=.5;var t=l.subtract(r(),e,this.node.worldPosition).normalize().multiplyScalar(this.fllowSpeed);this.node.translate(t,1),l.distance(this.node.worldPosition,e)<=this.fllowMinDis&&(this.complete&&this.complete(),this.complete||c.getInstance().putNode(this.node),this.isInit=!1)},a.onDisable=function(){this.complete=null,this.isInit=!1},o}(a));o._RF.pop()}}}));

System.register("chunks:///_virtual/FlMath.ts",["cc","./Vec3Util.ts"],(function(t){"use strict";var n,e,o,r,i,a,u,c,s;return{setters:[function(t){n=t.cclegacy,e=t.v3,o=t.v2,r=t.Vec3,i=t.Vec2,a=t.MeshRenderer,u=t.Tween,c=t.tween},function(t){s=t.Vec3Util}],execute:function(){n._RF.push({},"7ce03VC/d9G9atXPHDURz2J","FlMath",void 0);t("default",function(){function t(){}return t.changeArrayElementIndex=function(t,n){[].splice.apply(t,[].concat.apply([t.length-1,0],t.splice(n,1)))},t.getDistanceByXY=function(t,n,e,o){return Math.sqrt(Math.pow(t-e,2)+Math.pow(n-o,2))},t.deepClone_SlapKing_=function(t){if(!(t&&t instanceof Object&&"function"!=typeof t))return t;var n=new(0,t.constructor);for(var e in t)t.hasOwnProperty(e)&&(n[e]=this.deepClone_SlapKing_(t[e]));return n},t.accurateNum=function(t,n){return t.toFixed(n)-0},t.toRad=function(t){return Math.PI/180*t},t.toDeg=function(t){return 180/Math.PI*t},t.getMinMax=function(t,n,e){if(n>e){var o=n;n=e,e=o}var r=Math.min(t,e);return Math.max(r,n)},t.getInsertPointBetweenCircleAndLine=function(t,n,e,o,r){var i=(n-o)/(t-e),a=(t*o-e*n)/(t-e),u=1+i*i,c=2*i*(a-o)-2*e,s=e*e+(a-o)*(a-o)-r*r,h=[];return this.quadEquationGetX(u,c,s).forEach((function(t){var n=i*t+a;h.push({x:t,y:n})})),h},t.quadEquationGetX=function(t,n,e){var o=[],r=Math.pow(n,2)-4*t*e;return r>0?(o.push((-n+Math.sqrt(r))/(2*t)),o.push((-n-Math.sqrt(r))/(2*t))):0==r&&o.push(-n/(2*t)),o},t.calcCircularLayout=function(t,n,o){var r,i,a=[];for(r=i=0;i<t;r=++i){var u=n.x+o*Math.sin(2*Math.PI*r/t),c=n.y,s=n.z+o*Math.cos(2*Math.PI*r/t);a.push(e(u,c,s))}return a},t.locateCenter=function(t,n,e,r,i,a){var u,c,s,h,l=(t+e)/2;return 0!=(u=(r-n)/(e-t))?(c=(n+r)/2- -1/u*l,h=-1/u*(s=(Math.pow(t,2)+Math.pow(n,2)-Math.pow(i,2)-Math.pow(a,2)-2*c*n+2*c*a)/(2*(t-i-1/u*(n-a))))+c):(s=c=l,h=(Math.pow(t,2)+Math.pow(n,2)-Math.pow(i,2)-Math.pow(a,2)+2*s*(i-t))/(2*(n-a))),o(s,h)},t.onRayPlanePoint=function(t,n,o){var i=t.d,a=r.dot(i,n[1]);if(a>=0)return null;var u=(r.dot(n[0],n[1])-r.dot(t.o,n[1]))/a;return u>o?null:r.add(e(),t.o,r.multiplyScalar(e(),i,u))},t.onRayPlanePoint2=function(t,n){var o=t[1].subtract(t[0]).normalize(),i=r.dot(o,n[1]);if(i>=0)return e(0,0,0);var a=(r.dot(n[0],n[1])-r.dot(t[0],n[1]))/i;return a>r.distance(t[0],t[1])?e(0,0,0):t[0].add(o.multiplyScalar(a))},t.compareVersion=function(t,n){for(var e,o,r=t.split(".")||[],i=n.split(".")||[],a=r.length>i.length?r.length:i.length,u=0;u<a;u++){if((e=Number(r[u]||"0"))>(o=Number(i[u]||"0")))return 1;if(e<o)return-1}},t.lineDistance=function(t,n,e){var o=n.subtract(t),r=e.subtract(t),a=i.dot(o,r);if(a<0)return this.pointDistance(e,t);var u=i.dot(o,o);if(a>u)return this.pointDistance(e,n);a/=u;var c=t.add(o.multiplyScalar(a));return this.pointDistance(e,c)},t.pointDistance=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},t.getAngle=function(t,n){var e=n.x-t.x,r=n.y-t.y;return-(o(e,r).signAngle(o(1,0))/Math.PI*180)},t.getRectangleByPoint=function(t,n,e,o){var r=n.subtract(t),a=e.subtract(t),u=i.dot(r,a);if(u<0)return!1;var c=i.dot(r,r);if(u>c)return!1;u/=c;var s=t.add(r.multiplyScalar(u));return this.pointDistance(e,s)<o},t.getBoxBounds=function(t,n){return[e(t.x-n.x/2,0,t.z-t.z/2),e(t.x+n.x/2,0,t.z+t.z/2)]},t.onGetRectanglePoints=function(t,n,e,r,a,u){void 0===u&&(u=0);var c=[],h=n.x+u,l=n.z+u,f=o(t.x,t.z);return c.push(i.add(o(),f,s.v2NormalRotate(o(r/2*h,-a/2*l),e))),c.push(i.add(o(),f,s.v2NormalRotate(o(r/2*h,a/2*l),e))),c.push(i.add(o(),f,s.v2NormalRotate(o(-r/2*h,a/2*l),e))),c.push(i.add(o(),f,s.v2NormalRotate(o(-r/2*h,-a/2*l),e))),c},t.getBoundsByPoint=function(t,n){var e=o(t.x,t.z),r=n[0],a=n[1],u=n[2],c=n[3],s=this.v2Cross(i.subtract(o(),r,c),i.subtract(o(),e,c)),h=this.v2Cross(i.subtract(o(),a,r),i.subtract(o(),e,r)),l=this.v2Cross(i.subtract(o(),u,a),i.subtract(o(),e,a)),f=this.v2Cross(i.subtract(o(),c,u),i.subtract(o(),e,u));return!(i.dot(s,h)<0||i.dot(s,l)<0||i.dot(s,f)<0)},t.Cross=function(t,n){return t.x*n.z-n.x*t.z},t.isPointInPolygon=function(t,n){for(var e=o(t.x,t.z),r=0,i=n.length,a=0;a<i;a++){var u=n[a],c=n[(a+1)%i];(u.y<=e.y&&c.y>e.y||u.y>e.y&&c.y<=e.y)&&e.x<u.x+(e.y-u.y)/(c.y-u.y)*(c.x-u.x)&&(r+=1)}return r%2!=0},t.v2Cross=function(t,n){return o(t.x*n.y-t.y*n.x,0)},t.setParent=function(t,n){var e=t.worldPosition.clone(),o=t.worldRotation.clone(),r=t.worldScale.clone();t.parent=n,t.worldPosition=e,t.worldRotation=o,t.worldScale=r},t.getDirectionOfDistanceX=function(t,n){return t*Math.sin(n)},t.getDirectionOfDistanceZ=function(t,n){return t*Math.cos(n)},t.onAvoidingObstacles=function(t,n,o,r){var i=o.x,u=o.z,c=o.x+t,s=o.z+n,h=.35,l=r.children[0];if(o.y>=r.position.y+1)return e(t,0,n);var f=l.getComponent(a).mesh.struct.maxPosition.clone();f.x+=h,f.z+=h;var d=l.getComponent(a).mesh.struct.minPosition.clone();return d.x-=h,d.z-=h,c<f.x&&c>d.x&&s>d.z&&s<f.z&&(i>d.x&&i<f.x?s=s-d.z>f.z-s?f.z:d.z:u>d.z&&u<f.z&&(c=c-d.x>f.x-c?f.x:d.x)),e(t=c-i,0,n=s-u)},t.lerp=function(t,n,e){return e>1?e=1:e<0&&(e=0),t*(1-e)+n*e},t.lerpAngle=function(t,n,e){var o=(n%=360)-(t%=360);return o>180?n=t-(360-o):o<-180&&(n=t+(360+o)),(this.lerp(t,n,e)%360+360)%360},t.angleTowards=function(t,n,e){var o=(n%=360)-(t%=360);o>180?n=t-(360-o):o<-180&&(n=t+(360+o));var r=n-t;return e>Math.abs(r)?n:((t+e*Math.sign(r))%360+360)%360},t.redPointJumpUpAni=function(t,n){u.stopAllByTarget(t);var e=n.clone().add3f(0,12,0);c(t).to(1,{position:e}).to(1,{position:n}).union().repeatForever().start()},t.redPointJumpLeftAni=function(t,n){u.stopAllByTarget(t);var e=n.clone().add3f(-30,0,0);c(t).to(1,{position:e}).to(1,{position:n}).union().repeatForever().start()},t.checkIsLowPhone=function(){if(window.wx){var t=-1,n=window.wx.getSystemInfoSync();if(n.system.indexOf("iOS")>=0){for(var e=n.model,o=["iPhone1,1","iPhone1,2","iPhone2,1","iPhone3,1","iPhone3,3","iPhone4,1","iPhone5,1","iPhone5,2","iPhone5,3","iPhone5,4","iPhone6,1","iPhone6,2"],r=["iPhone6,2","iPhone7,1","iPhone7,2","iPhone8,1","iPhone8,2","iPhone8,4"],i=["iPhone9,1","iPhone9,2","iPhone9,3","iPhone9,4","iPhone10,1","iPhone10,2","iPhone10,3","iPhone10,4","iPhone10,5","iPhone10,6"],a=["iPhone11,2","iPhone11,4","iPhone11,6","iPhone11,8","iPhone12,1","iPhone12,3","iPhone12,5","iPhone12,8"],u=0;u<o.length;u++)e.indexOf(o[u])>=0&&(t=5);for(var c=0;c<r.length;c++)e.indexOf(r[c])>=0&&(t=10);for(var s=0;s<i.length;s++)e.indexOf(i[s])>=0&&(t=20);for(var h=0;h<a.length;h++)e.indexOf(a[h])>=0&&(t=30)}else t=n.benchmarkLevel;return t<22}return!1},t}());Math.seed=Date.now(),Math.random=function(){return Math.seed=(9301*Math.seed+49297)%233280,Math.seed/233280},n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GamePrefabs.ts","./EZOrder.ts"],(function(e){"use strict";var i,t,a,n,o,s,r,c,l,h,u,p;return{setters:[function(e){i=e.defineProperty,t=e.createClass},function(e){a=e.cclegacy,n=e._decorator,o=e.Prefab,s=e.isValid,r=e.Vec3,c=e.find,l=e.instantiate,h=e.assetManager},function(e){u=e.GamePrefabs},function(e){p=e.EZOrder}],execute:function(){var d,f,g;a._RF.push({},"7e36bj0P1hM8rfFaS9i1sP6","UIManager",void 0);var P=n.ccclass;n.property,e("uiManager",P("uiManager")((g=f=function(){function e(){i(this,"_dictSharedPanel",{}),i(this,"_dictLoading",{}),i(this,"_arrPopupDialog",[]),i(this,"_showTipsTime",0)}var a=e.prototype;return a.preloadingUiPrefab=function(e,i){var t=this.resetUiPathName(e);u.getInstance().gameBundle[u.getInstance().bundleName].load(t,o,(function(e,t){if(e)return console.error(e.message||e),void i(e,t);for(var a=0;a<t.length;a++){var n=t[a],o=n.name;n.position||(o=n.data.name),u.getInstance().uiRes[o]=n}i&&i(null,t)}))},a.resetUiPathName=function(e){for(var i=[],t=0;t<e.length;t++)-1!=e[t].indexOf("^")?i.push(e[t].split("^")[1]):i.push(e[t]);return i},a.isDialogVisible=function(e){if(!this._dictSharedPanel.hasOwnProperty(e))return!1;var i=this._dictSharedPanel[e];return s(i)&&i.active&&i.parent},a.showDialog=function(e,i,t){var a,n,o=this;-1!=e.indexOf("^")?(a=e.split("^"),n=this.getzOrderName(a[0]),e=a[1]):n=this.getzOrderName("-1");var r=e.lastIndexOf("/"),c=e.slice(r+1);if(i||(i=[]),!this._dictLoading[e]){if(this._dictSharedPanel.hasOwnProperty(e)){var l=this._dictSharedPanel[e];if(s(l)){l.parent=n,l.active=!0;var h=l.getComponent(c),u=l.getComponent(c.charAt(0).toUpperCase()+c.slice(1));if(h&&h.show)h.show.apply(h,i),t&&t(h);else{if(!u||!u.show)throw"查找不到脚本文件"+c;u.show.apply(u,i),t&&t(u)}return void(this._dictLoading[e]=!0)}}this._dictLoading[e]=!0,this.createUI(e,n,(function(a,n){var s=!1;if(o._dictLoading[e]||(s=!0),o._dictLoading[e]=!1,a)console.error(a);else{o._dictSharedPanel[e]=n;var r=n.getComponent(c),l=n.getComponent(c.charAt(0).toUpperCase()+c.slice(1));if(r&&r.show)r.show.apply(r,i),t&&t(r);else{if(!l||!l.show)throw"查找不到脚本文件"+c;l.show.apply(l,i),t&&t(l)}o._dictLoading[e]=!0,s&&o.hideDialog(e)}}))}},a.hideDialog=function(e,i){if(-1!=e.indexOf("^")&&(e=e.split("^")[1]),this._dictSharedPanel.hasOwnProperty(e)){var t=this._dictSharedPanel[e];if(t&&s(t)){var a=t.getComponent("animationUI");a?a.close((function(){t.parent=null,i&&"function"==typeof i&&i()})):(t.parent=null,i&&"function"==typeof i&&i())}else i&&"function"==typeof i&&i()}this._dictLoading[e]=!1},a.pushToPopupSeq=function(e,i,t){var a={panelPath:e,scriptName:i,param:t,isShow:!1};this._arrPopupDialog.push(a),this._checkPopupSeq()},a.insertToPopupSeq=function(e,i,t){var a={panelPath:i,param:t,isShow:!1};this._arrPopupDialog.splice(e,0,a)},a.shiftFromPopupSeq=function(e){var i=this;this.hideDialog(e,(function(){i._arrPopupDialog[0]&&i._arrPopupDialog[0].panelPath===e&&(i._arrPopupDialog.shift(),i._checkPopupSeq())}))},a._checkPopupSeq=function(){if(this._arrPopupDialog.length>0){var e=this._arrPopupDialog[0];e.isShow||(this.showDialog(e.panelPath,e.param),this._arrPopupDialog[0].isShow=!0)}},a.showTips=function(e,i,t,a,n){var o=this;void 0===i&&(i="txt"),void 0===t&&(t=new r),void 0===a&&(a=1),void 0===n&&(n=function(){});var s=String(e),c=function(){o._showTipsAni(s,i,t,a,n)},l=Date.now();if(l-this._showTipsTime<800&&"gold"!==i&&"heart"!==i){var h=800-(l-this._showTipsTime);setTimeout((function(){c()}),h),this._showTipsTime=l+h}else c(),this._showTipsTime=l},a.getzOrderName=function(e){var i="";switch(Number(e)){case 0:i=p.MAP;break;case 1:i=p.NORMAL;break;case 2:i=p.WIDGET;break;case 3:i=p.BLOOD;break;case 4:i=p.WINDOW;break;case 5:i=p.DIALOG;break;case 6:i=p.TIP;break;case 7:i=p.GUIDE;break;case 8:i=p.MAX;break;default:i=p.WIDGET}return c("Canvas").getChildByName(i)},a.createUI=function(e,i,t){e="res/prefabs/prefab-2d/gui/"+e,this.getUIPrefabRes(e,(function(a,n){if(a)console.log("+++++++加载ui预设报错",e);else{var o=l(n);o.setPosition(0,0,0),i.addChild(o),t&&t(null,o)}}))},a.getUIPrefabRes=function(e,i){this.loadRes(e,o,i)},a.loadRes=function(e,i,t){void 0===t&&(t=function(){});var a=e.lastIndexOf("/"),n=e.slice(a+1);if(u.getInstance().uiRes[n])return console.log("创建预加载类型UI",n),void(t&&t(null,u.getInstance().uiRes[n]));console.log("创建非预加载类型UI",n);var o=h.getBundle(u.getInstance().bundleName);o?o.load(e,i,(function(e,i){if(e)return console.error(e.message||e),void t(e,i);t&&t(null,i)})):h.loadBundle(u.getInstance().bundleName,(function(a,n){a||n.load(e,i,(function(e,i){if(e)return console.error(e.message||e),void t(e,i);t&&t(null,i)}))}))},a._showTipsAni=function(e,i,t,a,n){},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}(),i(f,"_instance",void 0),d=g))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/DateUtil.ts",["cc"],(function(e){"use strict";var t,r;return{setters:[function(e){t=e.cclegacy,r=e._decorator}],execute:function(){var n;t._RF.push({},"82c2fwW/wFGG7Fs0XJLQwJL","DateUtil",void 0);var a=r.ccclass;r.property,e("DateUtil",a("DateUtil")(n=function(){function e(){}return e.isNewDay=function(e){var t=new Date(e),r=new Date,n=t.getYear(),a=t.getMonth(),o=t.getDate(),i=r.getYear(),g=r.getMonth(),u=r.getDate();return i>n||(g>a||u>o)},e.isNowValid=function(e,t){var r=new Date(e),n=new Date(t),a=!1;if(r.getDate()+""!="NaN"&&n.getDate()+""!="NaN"){var o=new Date;a=o<n&&o>r}return a},e.getInervalSecond=function(e,t){e=new Date(e);var r=(t=new Date(t)).getTime()-e.getTime();return parseInt((r/1e3).toString())},e.getInervalMinute=function(e,t){e=new Date(e);var r=(t=new Date(t)).getTime()-e.getTime();return parseInt((r/1e3/60).toString())},e.getInervalHour=function(e,t){e=new Date(e);var r=(t=new Date(t)).getTime()-e.getTime();return r<0?0:Math.floor(r/1e3/3600)},e.getInervalDay=function(e,t){e=new Date(e);var r=(t=new Date(t)).getTime()-e.getTime();return Math.floor(r/864e5)},e.getDeltaDays=function(e,t){e=new Date(e),t=new Date(t);var r=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),o=t.getFullYear(),i=t.getMonth()+1,g=t.getDate();e=new Date(r+"/"+n+"/"+a+" GMT+0800").getTime();var u=(t=new Date(o+"/"+i+"/"+g+" GMT+0800").getTime())-e;return Math.floor(u/864e5)},e.formatDate=function(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t},e.getDay=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.formatTimeStringMS=function(e){e=Math.floor(e+.95);var t=Math.floor(e/60),r=Math.floor(e%60),n="";return n+=t>9?t.toString():"0"+t.toString(),n+=":",n+=r>9?r.toString():"0"+r.toString()},e.formatTimeForSecond=function(e,t){void 0===t&&(t=!1);var r="",n=e%60,a=Math.floor(e/60);a=a<0?0:a;var o=Math.floor(a/60),i=a%60;return o>0?(r+=o>9?o.toString():"0"+o,r+=":"):r+="00:",r+=i>9?i.toString():"0"+i,t||(r+=":",r+=n>9?n.toString():"0"+n),r},e.formatTimeForMillisecond=function(e){var t=Math.floor(e/1e3%60),r=Math.floor(e/1e3/60%60);return{hour:Math.floor(e/1e3/60/60),minute:r,second:t}},e.getOffsetMimutes=function(e,t){var r=t-e;return Math.floor(r%36e5/6e4)},e}())||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectUtil.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"86827QLFSRM7Zojsx0WqWuQ","ObjectUtil",void 0);t("default",function(){function t(){}return t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;var r=null;if(t instanceof Date)return(r=new Date).setTime(t.getTime()),r;if(t instanceof Array){r=[];for(var e=0,n=t.length;e<n;e++)r[e]=this.deepCopy(t[e]);return r}if(t instanceof Object){for(var o in r={},t)t.hasOwnProperty(o)&&(r[o]=this.deepCopy(t[o]));return r}console.warn("不支持的类型："+r)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t.objectToArray=function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(t[e]);return r},t.arrayToObject=function(t,r){var e={};for(var n in t)t.hasOwnProperty(n)&&t[n][r]&&(e[t[n][r]]=t[n]);return e},t.isEmptyObject=function(t){var r=!0;if(t&&t.constructor===Object){for(var e in t)if(t.hasOwnProperty(e)){r=!1;break}}else r=!1;return r},t.getPropertyCount=function(t){var r,e=0;for(r in t)t.hasOwnProperty(r)&&e++;return e},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ParaCurve.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PathHelper.ts"],(function(t){"use strict";var i,n,s,e,o,r,a;return{setters:[function(t){i=t.inheritsLoose,n=t.defineProperty,s=t.assertThisInitialized},function(t){e=t.cclegacy,o=t._decorator,r=t.Component},function(t){a=t.default}],execute:function(){var c;e._RF.push({},"8e4ceEHQUNEvoGgt1YYZY6l","ParaCurve",void 0);var u=o.ccclass;o.property,t("ParaCurve",u("ParaCurve")(c=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,n(s(i),"_startPos",void 0),n(s(i),"_endPos",void 0),n(s(i),"_wayPoint",void 0),n(s(i),"_index",0),n(s(i),"_isInit",!1),i}i(e,t);var o=e.prototype;return o.init=function(t,i){this._startPos=t.clone(),this._endPos=i.clone();var n=this._startPos.clone().subtract(this._endPos).multiplyScalar(.5);n.y=4,this._wayPoint=a.GetWayPoints([this._startPos,n,this._endPos],10),this._index=0,this._isInit=!0},o.update=function(){this._isInit&&(this.node.worldPosition=this._wayPoint[this._index],this._index+=1)},o.onDisable=function(){this._isInit=!1},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/CameraUtil.ts",["cc"],(function(e){"use strict";var t,o,i,n,r,a,c;return{setters:[function(e){t=e.cclegacy,o=e.Vec3,i=e.v3,n=e.view,r=e.Tween,a=e.math,c=e.tween}],execute:function(){t._RF.push({},"95c77QQpp1EjKj8UBFCCdKu","CameraUtil",void 0);e("CameraUtil",function(){function e(){}return e.isInView=function(e,t){var r=e.node.getWorldPosition(),a=e.worldToScreen(t),c=o.subtract(i(),t,r).normalize(),d=e.node.forward,s=o.dot(d,c),u=n.getViewportRect();return s>0&&a.x<=u.width&&a.x>=0&&a.y<=u.height&&a.y>=0},e.targeIsView=function(e,t){var o=i();return t.worldToScreen(e.worldPosition,o),o.x>=0&&o.x<=n.getVisibleSize().x&&o.y>0&&o.y<=n.getVisibleSize().y},e.shakeCamera=function(e,t,o,i,n,d,s){void 0===o&&(o=[-3,3]),void 0===i&&(i=[-3,3]),void 0===n&&(n=[-.5,.5]),void 0===d&&(d=.04),void 0===s&&(s=.04),r.stopAllByTarget(e);for(var u=e.position.clone(),l=0;l<t;l++){var v=u.add3f(a.randomRange(o[0],o[1]),a.randomRange(i[0],i[1]),a.randomRange(n[0],n[1]));c(e).to(d,{position:v}).delay(l*(d+s)).union().start(),c(e).to(s,{position:u}).delay(d+l*(d+s)).union().start()}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"aa8435LSBtAR5HPsje6IJ2w","StringUtil",void 0);r("StringUtil",function(){function r(){}return r.formatMoney=function(r){for(var t=["","K","M","G","T","P","E","Z","Y","B","N","D"],n="",e=0;e<t.length;e++){if(!(r>=1e4)){n=Math.floor(r)+t[e];break}r/=1e3}return""===n&&(n=Math.floor(r)+"U"),n},r.formatToThousands=function(r){return(r||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},r.numberToTenThousand=function(r,t){void 0===t&&(t=2);var n=1e4;if(r<n)return r.toString();var e=Math.floor(Math.log(r)/Math.log(n));return(r/Math.pow(n,e)).toFixed(t)+["","万","亿","万亿"][e]},r.stringToArray1=function(r){return""==r?[]:r.split(",")},r.stringToArray2=function(r){return""==r?[]:r.split("|")},r.stringToArray3=function(r){return""==r?[]:r.split(":")},r.stringToArray4=function(r){return""==r?[]:r.split(";")},r.arrayToNumber=function(r){var t=[];return r.map((function(r){t.push(Number(r))})),t},r.sub=function(r,t,n){void 0===n&&(n=!1);var e=/[^\x00-\xff]/g;if(r.replace(e,"mm").length<=t)return r;for(var o=Math.floor(t/2);o<r.length;o++)if(r.substr(0,o).replace(e,"mm").length>=t)return n?r.substr(0,o)+"...":r.substr(0,o);return r},r.stringLen=function(r){for(var t=0,n=r.length,e=-1,o=0;o<n;o++)t+=(e=r.charCodeAt(o))>=0&&e<=128?1:2;return t},r.encrypt=function(r){var t=this._base64encode(r),n=6;t.length%2==0&&(n=7);for(var e="",o=0;o<(t.length-n+1)/2;o++)e+=t[2*o+1],e+=t[2*o];return e+=t.slice(t.length-n+1)},r._base64encode=function(r){var t,n,e,o,a,i,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",h=0;for(r=this._utf8Encode(r);h<r.length;)o=(t=r.charCodeAt(h++))>>2,a=(3&t)<<4|(n=r.charCodeAt(h++))>>4,i=(15&n)<<2|(e=r.charCodeAt(h++))>>6,c=63&e,isNaN(n)?i=c=64:isNaN(e)&&(c=64),u=u+f.charAt(o)+f.charAt(a)+f.charAt(i)+f.charAt(c);return u},r._utf8Encode=function(r){r=r.replace(/\r\n/g,"\n");for(var t="",n=0;n<r.length;n++){var e=r.charCodeAt(n);e<128?t+=String.fromCharCode(e):e>127&&e<2048?(t+=String.fromCharCode(e>>6|192),t+=String.fromCharCode(63&e|128)):(t+=String.fromCharCode(e>>12|224),t+=String.fromCharCode(e>>6&63|128),t+=String.fromCharCode(63&e|128))}return t},r._utf8Decode=function(r){for(var t="",n=0,e=0,o=0,a=0;n<r.length;)(e=r.charCodeAt(n))<128?(t+=String.fromCharCode(e),n++):e>191&&e<224?(o=r.charCodeAt(n+1),t+=String.fromCharCode((31&e)<<6|63&o),n+=2):(o=r.charCodeAt(n+1),a=r.charCodeAt(n+2),t+=String.fromCharCode((15&e)<<12|(63&o)<<6|63&a),n+=3);return t},r._base64Decode=function(r){var t,n,e,o,a,i,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="",u=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<r.length;)t=c.indexOf(r.charAt(u++))<<2|(o=c.indexOf(r.charAt(u++)))>>4,n=(15&o)<<4|(a=c.indexOf(r.charAt(u++)))>>2,e=(3&a)<<6|(i=c.indexOf(r.charAt(u++))),f+=String.fromCharCode(t),64!=a&&(f+=String.fromCharCode(n)),64!=i&&(f+=String.fromCharCode(e));return f=this._utf8Decode(f)},r.decrypt=function(r){var t=6;r.length%2==0&&(t=7);for(var n="",e=0;e<r.length-t;e+=2)n+=r[e+1],n+=r[e];return n+=r.slice(r.length-t+1),n=this._base64Decode(n)},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EffectManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GamePrefabs.ts","./ResourceUtil.ts","./PoolManager.ts"],(function(n){"use strict";var e,t,o,a,i,l,r,c,u,s,f,d,p,v,g,h,m,C,y;return{setters:[function(n){e=n.defineProperty,t=n.inheritsLoose,o=n.assertThisInitialized,a=n.createClass},function(n){i=n.cclegacy,l=n._decorator,r=n.assetManager,c=n.Prefab,u=n.Vec3,s=n.AnimationComponent,f=n.ParticleSystemComponent,d=n.v3,p=n.ParticleSystem2D,v=n.find,g=n.Component,h=n.AnimationClip},function(n){m=n.GamePrefabs},function(n){C=n.ResourceUtil},function(n){y=n.PoolManager}],execute:function(){var I,E,P;i._RF.push({},"b44225R0nxGRpzrp3vkYce7","EffectManager",void 0);var N=l.ccclass;l.property,n("EffectManager",N("EffectManager")((P=E=function(n){function i(){for(var t,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=n.call.apply(n,[this].concat(i))||this,e(o(t),"_ndParent",null),t}t(i,n);var l=i.prototype;return l.onLoad=function(){i.instance=this,this.initEffect()},l.initEffect=function(){r.getBundle(m.getInstance().bundleName).loadDir("res/effect/effect-prefab",c,(function(n,e){n||e.forEach((function(n){var e=n.name;n.position||(e=n.data.name),m.getInstance().effRes[e]=n}))}))},l.playAni=function(n,e,t,o,a,i,l){var r=this;void 0===t&&(t=new u),void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===i&&(i=1),void 0===l&&(l=function(){});var c=n.split("/")[1],f=this.ndParent.getChildByName(c),d=function(){var n,r,c;null===(n=f)||void 0===n||n.setScale(new u(i,i,i)),null===(r=f)||void 0===r||r.setWorldPosition(t);var d=null===(c=f)||void 0===c?void 0:c.getComponent(s);d.play(e);var p=d.getState(e);p&&(p.wrapMode=o?h.WrapMode.Loop:h.WrapMode.Normal),d.once(s.EventType.FINISHED,(function(){l&&l(),a&&f&&y.getInstance().putNode(f)}))};f?d():C.loadModelRes(n).then((function(n){(f=y.getInstance().getNode(n,r.ndParent)).setScale(new u(i,i,i)),f.setWorldPosition(t),d()}))},l.playEffectAni=function(n,e,t,o,a,i,l,r,c){void 0===t&&(t=!0),void 0===o&&(o=!0),void 0===a&&(a=0),void 0===i&&(i=1),void 0===l&&(l=new u),n.parent&&C.loadEffectRes(e).then((function(e){var d=y.getInstance().getNode(e,n);d.setScale(new u(i,i,i)),d.setPosition(l),r&&(d.eulerAngles=r);var p=0;t&&d.getComponentsInChildren(s).forEach((function(n,e){var t;null==n||n.play();var o=null==n||null===(t=n.defaultClip)||void 0===t?void 0:t.name;if(o){var a=n.getState(o);if(a){var i=a.duration;p=i>p?i:p,a.speed=1}}}));o&&d.getComponentsInChildren(f).forEach((function(n){n.simulationSpeed=1,null==n||n.clear(),null==n||n.stop(),null==n||n.play();var e=n.duration;p=e>p?e:p}));setTimeout((function(){d.parent&&(c&&c(),y.getInstance().putNode(d))}),1e3*(a&&a>0?a:p))}))},l.playParticleByNode=function(n,e,t,o,a,i,l){void 0===t&&(t=!0),void 0===o&&(o=d()),void 0===a&&(a=d(1,1,1));var r=m.getInstance().effRes[n];if(r){var c=y.getInstance().getNode(r,e);c.setScale(a),c.setPosition(o),i&&(c.eulerAngles=i);var u=0;return c.getComponentsInChildren(f).forEach((function(n){null==n||n.clear(),null==n||n.stop(),null==n||n.play();var e=n.duration;u=e>u?e:u})),c.getComponentsInChildren(s).forEach((function(n,e){var t;null==n||n.play();var o=null==n||null===(t=n.defaultClip)||void 0===t?void 0:t.name;if(o){var a=n.getState(o);a&&(a.speed=1)}})),t?(setTimeout((function(){if(c.parent){var n=c.getComponentsInChildren(f);c.parent&&(l&&l(),n.forEach((function(n){null==n||n.clear(),null==n||n.stop()})),y.getInstance().putNode(c))}}),1e3*u),c):c}},l.playParticle=function(n){n&&(n.getComponentsInChildren(f).forEach((function(n){null==n||n.clear(),null==n||n.stop(),null==n||n.play()})),n.getComponentsInChildren(s).forEach((function(n,e){var t;null==n||n.play();var o=null==n||null===(t=n.defaultClip)||void 0===t?void 0:t.name;if(o){var a=n.getState(o);a&&(a.speed=1)}})))},l.stopParticleByNode=function(n){n&&(n.getComponentsInChildren(s).forEach((function(n){n.stop()})),n.getComponentsInChildren(f).forEach((function(n){null==n||n.clear(),null==n||n.stop()})))},l.removeEffectByNode=function(n){n&&(n.getComponentsInChildren(s).forEach((function(n){n.stop()})),(null==n?void 0:n.getComponentsInChildren(f)).forEach((function(n){null==n||n.clear(),null==n||n.stop()})),y.getInstance().putNode(n))},l.playParticleByNode2D=function(n){if(n)return n.active=!0,n.getComponentsInChildren(p).forEach((function(n){n.resetSystem()})),n.getComponentsInChildren(s).forEach((function(n,e){var t;null==n||n.play();var o=null==n||null===(t=n.defaultClip)||void 0===t?void 0:t.name;if(o){var a=n.getState(o);a&&(a.speed=1)}})),n},a(i,[{key:"ndParent",get:function(){return this._ndParent||(this._ndParent=v("effectManager")),this._ndParent}}]),i}(g),e(E,"instance",void 0),I=P))||I);i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUtil.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r;return{setters:[function(e){n=e.createClass,t=e.defineProperty},function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"b7a864Zpb5N4Zm7onWE1i9D","LayerUtil",void 0);var i=e("LayerItem",function(){function e(e,n){t(this,"_value",void 0),this._value=e,this._name=n}return n(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),u=e("LayerUtil",function(){function e(){}return e.setNodeLayer=function(n,t){t.layer=n.mask,t.children.forEach((function(t){t.layer=n.mask,e.setNodeLayer(n,t)}))},e}());t(u,"MAP",new i(0,"MAP")),t(u,"AVATAR",new i(1,"AVATAR")),t(u,"IGNORE_RAYCAST",new i(20,"IGNORE_RAYCAST")),t(u,"GIZMOS",new i(21,"GIZMOS")),t(u,"EDITOR",new i(22,"EDITOR")),t(u,"UI_3D",new i(23,"UI_3D")),t(u,"SCENE_GIZMO",new i(24,"SCENE_GIZMO")),t(u,"UI_2D",new i(25,"UI_2D")),t(u,"PROFILTER",new i(28,"PROFILTER")),t(u,"DEFAULT",new i(30,"DEFAULT")),r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePrefabs.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(e){"use strict";var t,r,n,s,a,c;return{setters:[function(e){t=e.inheritsLoose,r=e.defineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator},function(e){c=e.default}],execute:function(){s._RF.push({},"bd6170KacZE2YygJrgqwo1I","GamePrefabs",void 0);a.ccclass,a.property,e("GamePrefabs",function(e){function s(){for(var t,s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,r(n(t),"bundleName","ball-magic"),r(n(t),"tableObjects",{}),r(n(t),"uiRes",{}),r(n(t),"effRes",{}),r(n(t),"res",{}),r(n(t),"gameBundle",{}),t}return t(s,e),s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./GamePrefabs.ts"],(function(e){"use strict";var t,n,r,a,o,i,s,c,u,l,f,d,p,P,h;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator},function(e){o=e.cclegacy,i=e._decorator,s=e.instantiate,c=e.NodePool,u=e.v3,l=e.SpriteFrame,f=e.Texture2D,d=e.Prefab,p=e.assetManager},function(e){P=e.default},function(e){h=e.GamePrefabs}],execute:function(){var g;o._RF.push({},"d3786tFOVlMzKYsT5AhmhZM","PoolManager",void 0);var m=i.ccclass;i.property,e("PoolManager",m("PoolManager")(g=function(e){function o(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(r(t),"_dictPool",{}),n(r(t),"_dictPrefab",{}),n(r(t),"_spriteframes",{}),t}t(o,e);var i=o.prototype;return i.getNode=function(e,t){var n=e.name;e.position||(n=e.data.name),this._dictPrefab[n]=e;var r=null;if(this._dictPool.hasOwnProperty(n)){var a=this._dictPool[n];r=a.size()>0?a.get():s(e)}else{var o=new c;this._dictPool[n]=o,r=s(e)}return r.parent=t,r.active=!0,r},i.putNode=function(e){if(e){var t=e.name,n=null;this._dictPool.hasOwnProperty(t)?n=this._dictPool[t]:(n=new c,this._dictPool[t]=n),e.removeFromParent(),n.put(e)}},i.putNodeChildren=function(e){for(;e.children.length>0;)o.getInstance().putNode(e.children[0])},i.clearPool=function(e){this._dictPool.hasOwnProperty(e)&&this._dictPool[e].clear()},i.prePool=function(e,t){var n=e.name,r=new c;this._dictPool[n]=r;for(var a=0;a<t;a++){var o=s(e);r.put(o)}},i.getPrefabNodeByAsync=function(){var e=a(regeneratorRuntime.mark((function e(t,n){var r,a,i,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="res/prefabs/prefab-3d/map/"+t,e.next=3,o.loadPrefabUrl(t);case 3:return r=e.sent,a=r.name,r.position||(a=r.data.name),i=null,this._dictPool.hasOwnProperty(a)?(l=this._dictPool[a],i=l.size()>0?l.get():s(r)):(f=new c,this._dictPool[a]=f,i=s(r)),i.name=a,i.parent=n,i.active=!0,i.setPosition(u()),i.setRotationFromEuler(0,0,0),i.setScale(u(1,1,1)),e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),i.getPrefabNodeByPool=function(e,t){var n=h.getInstance().res[e];if(!n)return null;var r=n.name;n.position||(r=n.data.name);var a=null;if(this._dictPool.hasOwnProperty(r)){var o=this._dictPool[r];a=o.size()>0?o.get():s(n)}else{var i=new c;this._dictPool[r]=i,a=s(n)}return a.name=r,a.parent=t,a.active=!0,a.setPosition(u()),a.setRotationFromEuler(0,0,0),a.setScale(u(1,1,1)),a},i.getSpriteframe=function(e,t){var n=this;if(this._spriteframes.hasOwnProperty(e))t&&t(this._spriteframes[e]);else{var r=e+"/spriteFrame";h.getInstance().gameBundle[h.getInstance().bundleName].load(r,l,(function(a,o){a?h.getInstance().gameBundle[h.getInstance().bundleName].load(r,(function(r,a){if(!r){var o=new l,i=new f;i.image=a,o.texture=i,n._spriteframes[e]=o,t&&t(o)}})):(n._spriteframes[e]=o,t&&t(o))}))}},i.getSoldierNodeAsync=function(){var e=a(regeneratorRuntime.mark((function e(t,n,r,a,i){var l,f,d,p,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,o.loadSoldierPrefab(t);case 3:return l=e.sent,f=l.name,l.position||(f=l.data.name),d=null,this._dictPool.hasOwnProperty(f)?(p=this._dictPool[f],d=p.size()>0?p.get():s(l)):(P=new c,this._dictPool[f]=P,d=s(l)),d.parent=n,d.active=!0,d.setWorldPosition(r),a&&(d.eulerAngles=a),d.setScale(u(1,1,1)),e.abrupt("return",d);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),o.loadSoldierPrefab=function(e){var t=this;return new Promise((function(n,r){if(h.getInstance().res[e])return n(h.getInstance().res[e]);var a="res/prefabs/prefab-3d/soldier/"+e;t.getBundle(h.getInstance().bundleName,(function(t,o){o&&o.load(a,d,(function(t,a){return t?r(t):(h.getInstance().res[e]=a,n(a))}))}))}))},o.loadPrefabUrl=function(e){var t=this,n=e.lastIndexOf("/"),r=e.slice(n+1);return new Promise((function(n,a){if(h.getInstance().res[r])return n(h.getInstance().res[r]);t.getBundle(h.getInstance().bundleName,(function(t,o){o&&o.load(e,d,(function(e,t){return e?a(e):(h.getInstance().res[r]=t,n(t))}))}))}))},o.getBundle=function(){var e=a(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=h.getInstance().gameBundle[t])){e.next=4;break}return n&&n(null,r),e.abrupt("return");case 4:p.loadBundle(t,(function(e,t){n&&n(e,t)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o}(P))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/GamePageEnum.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var a;e("GamePageEnum",void 0),n._RF.push({},"d5b2c16lelDwL5C53ZcTzKo","GamePageEnum",void 0),function(e){e.PAGE_GAME_BANNER_TIP="8^game-banner-tip/GameBannerTip",e.PAGE_DEBUG="8^debug/DebugPanel",e.SETTING_PANEL="6^setup-panel/SetUpPanel",e.PAGE_HOME="6^home-panel/HomePanel",e.PAGE_GAME="6^game-panel/GamePanel",e.PAGE_UNLOCK="6^unlock-panel/UnlockPanel",e.PAGE_RELIFE="6^resurrect-panel/ResurrectPanel",e.PAGE_RESULT="6^result-panel/ResultPanel",e.PAGE_SHOP="6^shop-panel/ShopPanel",e.PAGE_GET="6^get-panel/GetPanel",e.PAGE_BOOST="6^boost-panel/BoostPanel"}(a||(a=e("GamePageEnum",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/RegexUtil.ts",["cc"],(function(u){"use strict";var f;return{setters:[function(u){f=u.cclegacy}],execute:function(){f._RF.push({},"dec9bVPigFCmKy5NVk+0y7h","RegexUtil",void 0);u("default",function(){function u(){}return u.isDWORD=function(u){return/[^\x00-\xff]/.test(u)},u.trim=function(u){return u.replace(/(^\s*)|(\s*$)/g,"")},u._stringToArray=function(u){var f,e="\\ufe0e\\ufe0f",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n=RegExp("[\\u200d\\ud800-\\udfff"+t+e+"]"),r="\\ud83c[\\udffb-\\udfff]",c="[\\ufe0e\\ufe0f]?",d="["+t+"]",i="(?:"+d+"|"+r+")"+"?",s="[\\ud800-\\udfff]",o="[^\\ud800-\\udfff]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l=c+i+("(?:\\u200d(?:"+[o,g,a].join("|")+")"+c+i+")*"),p="(?:"+[o+d+"?",d,g,a,s].join("|")+")",x=RegExp(r+"(?="+r+")|"+p+l,"g");return f=u,n.test(f)?function(u){return u.match(x)||[]}(u):function(u){return u.split("")}(u)},u}());f._RF.pop()}}}));

System.register("chunks:///_virtual/RandomUtil.ts",["cc"],(function(n){"use strict";var r,t;return{setters:[function(n){r=n.cclegacy,t=n.v2}],execute:function(){r._RF.push({},"e3f520E5ZhE/I8j3UF21RQo","RandomUtil",void 0);n("RandomUtil",function(){function n(){}return n.getWeightRandIndex=function(n,r){for(var t=Math.floor(Math.random()*r),o=0,e=0;e<n.length&&!(t<(o+=n[e]));e++);return e},n.getRandomNFromM=function(n,r){for(var t=[],o=0,e=0;e<r&&!(e>=n+1);){o=this.randomInteger(0,n);for(var a=0,i=0;i<e;i++)if(t[i]===o){a=1;break}0===a&&(t[e]=o,e++)}return t},n.randomInteger=function(n,r){var t=Math.random()*(r-n+1)+n;return Math.floor(t)},n.probability=function(n){return Math.random()<n},n.randomBool=function(){var n=0;return this.randomInteger(1,10)>5&&(n=1),!!n},n.randomFloat=function(n,r){if(n>r){var t=n;n=r,r=t}return Math.random()*(r-n)+n},n.getRandomRange=function(n,r){return r?(Math.random()>.5?1:-1)*Math.random()*n:Math.random()*n},n.arrayRandomValue=function(n){return n.length<=0?[]:n[this.randomInteger(0,n.length-1)]},n.arrayRandomValueByNum=function(n,r){if(n.length<=r)return n;var t=this.deepClone_SlapKing_(n);return(t=this.shuffle(t)).slice(0,r)},n.getRandomByRatio=function(n){var r=[];n.forEach((function(n,t){r.push(Number(n))}));for(var t=Math.random(),o=[[0,r[0],0]],e=r[0],a=1;a<r.length-1;a++)o.push([e,e+r[a],a]),e+=r[a];for(var i=0;i<o.length;i++)if(t>=o[i][0]&&t<o[i][1])return o[i][2];return r.length-1},n.sectionIndex=function(n){for(var r=[],t=0,o=0,e=0;e<n.length;e++)t+=n[e];for(var a=0;a<n.length;a++)r.push([o,o+n[a]/t]),o+=n[a]/t;for(var i=Math.random(),u=r.length-1;u>=0;u--)if(i>r[u][0]&&i<=r[u][1])return u;return 0},n.deepClone_SlapKing_=function(n){if(!(n&&n instanceof Object&&"function"!=typeof n))return n;var r=new(0,n.constructor);for(var t in n)n.hasOwnProperty(t)&&(r[t]=this.deepClone_SlapKing_(n[t]));return r},n.shuffle=function(n){for(var r=n.length-1;r>=0;r--){var t=Math.floor(Math.random()*(r+1)),o=n[t];n[t]=n[r],n[r]=o}return n},n.getRandomXYInfan=function(n,r,o,e,a){var i=e+Math.random()*(a-e),u=t();return u.x=n+o*Math.cos(i),u.y=r-o*Math.sin(i),u},n.dichotomy=function(n,r,t){if(!(t>0&&t+1<n.length))return-1;if(r>=n[t-1]&&r<=n[t])return t-1;if(r>=n[t]&&r<=n[t+1])return t;if(r<n[t-1]){var o=t<=Math.floor(n.length/2)?0:Math.floor(n.length/2);return this.dichotomy(n,r,Math.floor((t+o)/2))}if(r>n[t+1]){var e=t<Math.floor(n.length/2)?Math.floor(n.length/2):n.length;return this.dichotomy(n,r,Math.floor((t+e)/2))}},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ImageUtil.ts",["cc"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.Color,r=e.Texture2D}],execute:function(){t._RF.push({},"ebdf3rRnEdIYpKgGdW8gSmZ","ImageUtil",void 0);e("default",function(){function e(){}return e.getPixelColor=function(e,t,r){var a=document.createElement("canvas"),o=a.getContext("2d");a.width=e.width,a.height=e.height;var i=e.getHtmlElementObj();o.drawImage(i,0,0,e.width,e.height);var g=o.getImageData(0,0,e.width,e.height),c=(r-1)*e.width*4+4*(t-1),u=g.data.slice(c,c+4),d=new n(u[0],u[1],u[2],u[3]);return i.remove(),a.remove(),d},e.imageToBase64=function(e,t){return new Promise((function(n){var r,a=null===(r=/\.png|\.jpg|\.jpeg/.exec(e))||void 0===r?void 0:r[0];if([".png",".jpg",".jpeg"].includes(a)){var o=document.createElement("canvas"),i=o.getContext("2d"),g=new Image;g.src=e,g.onload=function(){o.height=g.height,o.width=g.width,i.drawImage(g,0,0),a=".jpg"===a?"jpeg":a.replace(".","");var e=o.toDataURL("image/"+a);t&&t(e),n(e),g.remove(),o.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),t&&t(""),n("")}))},e.base64ToTexture=function(e){var t=document.createElement("img");t.src=e;var n=new r;return t.remove(),n},e.base64ToBlob=function(e){for(var t=e.split(","),n=/image\/\w+|;/.exec(t[0])[0],r=window.atob(t[1]),a=new ArrayBuffer(r.length),o=new Uint8Array(a),i=0;i<r.length;i++)o[i]=255&r.charCodeAt(i);return new Blob([o],{type:n})},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ViewUtil.ts",["cc"],(function(e){"use strict";var n,t,o,r,c;return{setters:[function(e){n=e.cclegacy,t=e.UITransform,o=e.v3,r=e.Size,c=e.view}],execute:function(){n._RF.push({},"f607cCjAEZHVKVZ/FyRs5bA","ViewUtil",void 0);e("ViewUtil",function(){function e(){}return e.nodeTreeInfoLite=function(n,t){for(var o=t||new Map,r=n.children,c=0;c<r.length;c++){var i=r[c];i.name.indexOf(" ")<0&&o.set(i.name,i),e.nodeTreeInfoLite(i,o)}return o},e.findNodes=function(n,t,o){for(var r=o||[],c=t.children,i=0;i<c.length;i++){var a=c[i].name;n.test(a)&&r.push(c[i]),e.findNodes(n,c[i],r)}return r},e.getPosInNode=function(e,n){if(!e||!n||!n.parent)return n.position;var o=n.parent.getComponent(t).convertToWorldSpaceAR(n.position);return e.getComponent(t).convertToNodeSpaceAR(o)},e.calculateASpaceToBSpacePos=function(e,n,o){var r=e.getComponent(t).convertToWorldSpaceAR(o);return n.getComponent(t).convertToNodeSpaceAR(r)},e.calculateScreenPosToSpacePos=function(e,n){var r=e.getUILocation(),c=o(r.x,r.y);return n.getComponent(t).convertToNodeSpaceAR(c)},e.uniformScale=function(e,n,t,o){var c,i=t/e,a=o/n;return c=i<a?i:a,new r(Math.floor(e*c),Math.floor(n*c))},e.isOutState=function(e){var n=c.getVisibleSize();return e.x>n.x/2+20||e.x<-n.x/2-20||e.y>n.y/2+20||e.y<-n.y/2-20},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Singleton.ts","./GamePrefabs.ts","./CsvManager.ts","./LocalConfig.ts","./ResourceUtil.ts","./Vec3Util.ts","./RotateUtil.ts","./PathHelper.ts","./EZOrder.ts","./ResManager.ts","./ArrayUtil.ts","./window.ts","./RandomUtil.ts","./BezierUtils.ts","./FLStore.ts","./LoadPage.ts","./PoolManager.ts","./FlyToTarget.ts","./FlMath.ts","./UIManager.ts","./DateUtil.ts","./ObjectUtil.ts","./ParaCurve.ts","./CameraUtil.ts","./StringUtil.ts","./EffectManager.ts","./LayerUtil.ts","./GamePageEnum.ts","./RegexUtil.ts","./ImageUtil.ts","./ViewUtil.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});